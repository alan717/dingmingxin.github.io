#+TITLE:       Lua中的随机
#+AUTHOR:      dingmingxin
#+EMAIL:       dingmingxin20@gmail.com
#+DATE:        2016-06-04 六
#+URI:         /wiki/%y/%m/%d/lua中的随机
#+KEYWORDS:    Lua,random
#+TAGS:        Lua
#+LANGUAGE:    en
#+OPTIONS:     H:3 num:nil toc:nil \n:nil ::t |:t ^:nil -:nil f:t *:t <:t
#+DESCRIPTION: lua中的随机

* math.random and math.randomseed
#+begin_src lua
  math.randomseed(os.time())
  for i=1,10000000 do
      print(math.random(1,100))
  end
#+end_src
这样随机出来的数，随机性很小，即使os.time()的值在变化，但是影响不大

解决方法: 倒序os.time() 然后取前六位，作为randomseed
#+begin_src lua
  local randomseed = tonumber(tostring(os.time()):reverse():sub(1,6))
  math.randomseed(randomseed)
  local randomValue = math.random(m, n)
#+end_src
